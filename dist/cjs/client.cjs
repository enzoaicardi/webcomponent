"use strict";class t extends Error{constructor(t){super(`[${t.name}] Missing static property tagName.`),this.name="MissingTagName"}}class s extends Error{constructor(t){super(`[${t.name} ${t.tagName}] Cannot render component without rendering method (render | renderAsync).`),this.name="MissingRenderingMethod"}}class e extends Error{constructor(t){super(`[${t.name} ${t.tagName}] Unauthorized implicit coercion without synchronous rendering. Use toString instead.`),this.name="UnauthorizedCoercion"}}class i{static raw=Symbol();static t=Symbol();static i=Symbol()}class r{static tagName;[i.i]=Object.getPrototypeOf(this).constructor;[i.raw](s){const e=this[i.i].tagName;if(e){return`<${e}${Array.from(this.attrs).reduce(((t,[s,e])=>t+(/[^:.\w_-]/.test(s)?"":` ${s}="${e}"`)),"")}>${s}</${e}>`}throw new t(this[i.i])}attrs=new Map;toString(){if(this.render)return this[i.raw](this.render());if(this.renderAsync)return this.renderAsync().then((t=>this[i.raw](t)));throw new s(this[i.i])}[Symbol.toPrimitive](){if(this.render)return this[i.raw](this.render());throw new e(this[i.i])}}const n=document.createElement("template"),o=new Set;class c extends HTMLElement{static tagName;static define(s=this){if(!s.tagName)throw new t(s);o.has(s)||(o.add(s),customElements.define(s.tagName,s))}constructor(t){c.define(t),super()}[i.i]=Object.getPrototypeOf(this).constructor;[i.raw]=r.prototype[i.raw];[i.t](t){n.innerHTML=t;const s=n.content;this.appendChild(s)}attrs=new Map;connectedCallback(){if(!this.childNodes.length)if(this.render)this[i.t](this.render());else if(this.renderAsync)return this.renderAsync().then((t=>this[i.t](t)))}toString=r.prototype.toString;[Symbol.toPrimitive]=r.prototype[Symbol.toPrimitive]}exports.WebComponent=c;
