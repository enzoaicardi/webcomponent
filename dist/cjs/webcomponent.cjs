"use strict";class t extends Error{constructor(t){super(t)}}class e extends t{constructor(t,e){super(`Missing property ${t} on ${e.name}`),this.name="PropertyRequiredError"}}const s="undefined"==typeof document,i=!s,r=/[&<>"'`]/g,n={t:"&amp;",i:"&lt;",o:"&gt;",h:"&quot;",u:"&#039;",l:"&#96;"},o=t=>n[t],c=t=>t.replace(r,o),h=s?class{}:HTMLElement,a=s?null:document.createElement("template"),u=new Set,l=t=>{if(i&&t){if(!t.tagName)throw new e("static tagName",t);u.has(t)||(u.add(t),customElements.define(t.tagName,t))}},p=(t,e,s)=>`<${e}${s?Object.entries(s).reduce(((t,[e,s])=>t+(/[^:.\w_-]/.test(e)?"":` ${e}="${c(s)}"`)),""):""}>${t}</${e}>`;class f{static p=Symbol();static m=Symbol()}class m extends h{static tagName;static define=l;static createElement(...t){return l(this),new this(...t)}static createRaw(...t){return l(this),new this(...t).toString()}properties;[f.m]=Object.getPrototypeOf(this).constructor;[f.p](t){const e=this,s=(t=>a?(a.innerHTML=t,a.content):null)(t),i=this.properties;if(i)for(const t in i)e.setAttribute(t,i[t]);s&&e.appendChild(s)}constructor(){super()}connectedCallback(){const t=this;if(!t.childNodes.length)if(this.render)this[f.p](this.render());else if(this.renderAsync)return this.renderAsync().then((e=>(this[f.p](e),t)));return Promise.resolve(t)}toString(){const t=this.properties,s=this[f.m],i=s.tagName;if(!i)throw new e("static tagName",s);if(this.render)return p(this.render(),i,t);if(this.renderAsync)return this.renderAsync().then((e=>p(e,i,t)));throw new e("render | renderAsync",s)}[Symbol.toPrimitive](){if(this.render)return p(this.render(),this[f.m].tagName,this.properties);throw new e("render",this[f.m])}}exports.WebComponent=m,exports.isClient=i,exports.isServer=s,exports.sanitize=c;
