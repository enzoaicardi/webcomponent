"use strict";const t="undefined"==typeof document,s=!t,e=t?class{}:HTMLElement,i=t?null:document.createElement("template"),r=new Set,n=t=>{s&&t&&!r.has(t)&&(r.add(t),customElements.define(t.tagName,t))},o=(t,s)=>{if(s)return`<${s}>${t}</${s}>`;throw new Error};class c{static t=Symbol();static i=Symbol()}class h extends e{static tagName;static define=n;[c.i]=Object.getPrototypeOf(this).constructor;[c.t](t){const s=(t=>i?(i.innerHTML=t,i.content):null)(t);s&&this.appendChild(s)}constructor(){super(),s&&n(this[c.i])}connectedCallback(){const t=this;if(!t.childNodes.length)if(this.render)this[c.t](this.render());else if(this.h)return this.h().then((s=>(this[c.t](s),t)));return Promise.resolve(t)}toString(){const t=this[c.i].tagName;if(this.render)return o(this.render(),t);if(this.h)return this.h().then((s=>o(s,t)));throw new Error}[Symbol.toPrimitive](){if(this.render)return o(this.render(),this[c.i].tagName);throw new Error}}exports.WebComponent=h,exports.isClient=s,exports.isServer=t;
