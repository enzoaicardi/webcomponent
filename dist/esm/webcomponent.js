const t="undefined"==typeof document,s=!t,e=t?class{}:HTMLElement,i=t?null:document.createElement("template"),n=new Set,r=t=>{s&&t&&!n.has(t)&&(n.add(t),customElements.define(t.tagName,t))},o=(t,s)=>{if(s)return`<${s}>${t}</${s}>`;throw new Error};class h{static t=Symbol();static i=Symbol()}class c extends e{static tagName;static define=r;[h.i]=Object.getPrototypeOf(this).constructor;[h.t](t){const s=(t=>i?(i.innerHTML=t,i.content):null)(t);s&&this.appendChild(s)}constructor(){super(),s&&r(this[h.i])}connectedCallback(){const t=this;if(!t.childNodes.length)if(this.render)this[h.t](this.render());else if(this.h)return this.h().then((s=>(this[h.t](s),t)));return Promise.resolve(t)}toString(){const t=this[h.i].tagName;if(this.render)return o(this.render(),t);if(this.h)return this.h().then((s=>o(s,t)));throw new Error}[Symbol.toPrimitive](){if(this.render)return o(this.render(),this[h.i].tagName);throw new Error}}export{c as WebComponent,s as isClient,t as isServer};
