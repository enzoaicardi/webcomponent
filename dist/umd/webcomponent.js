!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).t={})}(this,(function(t){"use strict";class e extends Error{constructor(t){super(t)}}class s extends e{constructor(t,e){super(`Missing property ${t} on ${e.name}`),this.name="PropertyRequiredError"}}const i="undefined"==typeof document,n=!i,r=/[&<>"'`]/g,o={i:"&amp;",o:"&lt;",h:"&gt;",u:"&quot;",l:"&#039;",p:"&#96;"},c=t=>o[t],h=t=>t.replace(r,c),a=i?class{}:HTMLElement,u=i?null:document.createElement("template"),f=new Set,l=t=>{if(n&&t){if(!t.tagName)throw new s("static tagName",t);f.has(t)||(f.add(t),customElements.define(t.tagName,t))}},d=(t,e,s)=>`<${e}${s?Object.entries(s).reduce(((t,[e,s])=>t+(/[^:.\w_-]/.test(e)?"":` ${e}="${h(s)}"`)),""):""}>${t}</${e}>`;class p{static m=Symbol();static $=Symbol()}class m extends a{static tagName;static define=l;static createElement(...t){return l(this),new this(...t)}static createRaw(...t){return l(this),new this(...t).toString()}properties;[p.$]=Object.getPrototypeOf(this).constructor;[p.m](t){const e=this,s=(t=>u?(u.innerHTML=t,u.content):null)(t),i=this.properties;if(i)for(const t in i)e.setAttribute(t,i[t]);s&&e.appendChild(s)}constructor(){super()}connectedCallback(){const t=this;if(!t.childNodes.length)if(this.render)this[p.m](this.render());else if(this.renderAsync)return this.renderAsync().then((e=>(this[p.m](e),t)));return Promise.resolve(t)}toString(){const t=this.properties,e=this[p.$],i=e.tagName;if(!i)throw new s("static tagName",e);if(this.render)return d(this.render(),i,t);if(this.renderAsync)return this.renderAsync().then((e=>d(e,i,t)));throw new s("render | renderAsync",e)}[Symbol.toPrimitive](){if(this.render)return d(this.render(),this[p.$].tagName,this.properties);throw new s("render",this[p.$])}}t.t=m,t.j=n,t.N=i,t.T=h}));
